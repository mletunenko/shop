# Shop project

Настоящий репозиторий содержит проект выполненный в рамках курса для самостоятельного изучения фреймворка Django. Код проекта
написан на языке Python 3.8, с использованием библиотек Django и Django REST framework, зависимости описаны в requirements.txt.

Проект работает с базой данных postgres.

Проект представляет REST API интернет-магазина. Описаны модели Category, Product, Bucket, Sale и Order. Реализована регистрация
новых пользователей интернет-магазина.

## Описание API

### Category

Модель Category представляет собой Категорию товаров, представленных в интернет-магазине. Категория имеет одну родительскую
категорию, которая может быть пустой.

_category/_

Для неавторизованных пользователей и пользователей с флагом is_staff = False, доступен только запрос GET, который возвращает
список категорий. Для авторизованных пользователей с флагом is_staff = True, доступен так же POST запрос для создания категории,
данные принимаются в виде:

    data = {
        "name": name,
        "parent": parent
    }

_category/{category.id}_

Для неавторизованных пользователей и пользователей с флагом is_staff = False доступна информация о выбранной категории. Для
авторизованных пользователей с флагом is_staff = True доступны PUT, DELETE и PATCH запросы.

### Product

Модель Product представляет собой Товар, представленный в интернет-магазине. Основные атрибуты товары это name, price,
description и categories. Продукт должен относиться как минимум к одной категории.

_product/_

Для неавторизованных пользователей и пользователей с is_staff = False доступен только запрос GET. Для пользователей с is_staff =
True доступны запросы GET и POST. Для создания экземпляра модели Продукт данные принимают в виде:

    data = {
        "name": name,
        "price": price,
        "description": description
    }

_product/?categories={category_1.id, category_2.id}_

Для модели Product доступна фильтрация через параметр запроса categories. При наличии параметра будут отфильтрованы продукты,
входящие хотя бы в одну из перечисленных категорий.

_product/{product.id}_

Для неавторизованных пользователей и пользователей с is_staff = False доступен только запрос GET. Для пользователей с is_staff =
True доступны PUT, DELETE и PATCH запросы.

### Bucket

Модель Bucket представляет корзину пользователя, поэтому доступна только для авторизованых пользователей.

_bucket/_

Для пользователей доступен только запрос GET.

_bucket/add_

Предоставляет API для добавления товара в корзину, посредством POST запроса, данные принимаются в виде:

    data = {
        "id": product.id,
        "number": number
    }

_bucket/{product.id}/update_

API позволяет изменять количество товаров в корзине пользователя с помощью PUT запроса, данные принимаются в виде:

    data = {
        "number": number
    }

_bucket/{product.id}/_

API позволяет удалять товар из корзины, посредством DELETE запроса.

### User

Модель User представляет пользователя.

_registration/_

Реализован API для регистрации новых пользователей. Данные принимаются в формате: 

    data = {
        "username": username,
        "first_name": first_name,
        "last_name": last_name,
        "email": email,
        "password": password
    }
